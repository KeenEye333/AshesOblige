ACTOR Hammergas : Ammo
{
 Inventory.Amount 99
 Inventory.MaxAmount 99
 Ammo.BackpackAmount 99
 Ammo.BackpackMaxAmount 99
 Inventory.PickupSound "items/ammopickup"
 Inventory.PickupMessage "Got the hammer gas."
 scale 0.5
 +ignoreskill
 States
 {
 Spawn:
  TNT1 A -1
  Stop
 }
}
ACTOR Hammercount : Ammo
{
 Inventory.MaxAmount 10
 Ammo.BackPackMaxAmount 10
 +IGNORESKILL
}
ACTOR OverchargePuff: bulletpuff
{ 
+NOBLOCKMAP
  +ALLOWPARTICLES
  +RANDOMIZE
  +NOEXTREMEDEATH
  +NOGRAVITY
  RenderStyle Translucent
  Alpha 0.5
  scale 0.6
  Mass 100
 seesound "weapons/crowbarmiss"
  States
  {
  Spawn:
    TNT1 A 2 A_RadiusThrust(700, 48, RTF_AFFECTSOURCE)
    CPUF A 1 A_PlaySound("misc/crowbarmiss")
    CPUF A 2 Bright
    CPUF B 3 
    Stop
  melee:
    TNT1 A 2 A_RadiusThrust(700, 48, RTF_AFFECTSOURCE)
	CPUF A 1 A_PlaySound("misc/crowbarmiss")
    CPUF A 2 Bright
    CPUF B 3 
	stop
  }
}
actor JACKHAMMER: Weapon replaces chainsaw
{
  Weapon.Kickback 250
  Weapon.SelectionOrder 2200
   Weapon.AmmoUse 0
   Weapon.AmmoGive 99
   Weapon.AmmoType "Hammergas"
  Weapon.UpSound "weapons/hammerup"
  Inventory.PickupMessage "Got the Jackhammer!"
  Obituary "%o took a pounding from %k!"
  weapon.slotnumber 1
  scale 0.7
  Decal "BulletChip"
  Tag "JackHammer"
  inventory.pickupsound "weapons/hammerup"
  Inventory.Icon "JHAMA0"
  +WEAPON.MELEEWEAPON
   States
  {
  Ready:
    HAMM A 0 A_jumpifinventory("hammergas", 1, "reallyready")
	HAMM A 1 A_WeaponReady(WRF_NOFIRE)
	loop
  ReallyReady:
	HAMM A 0 A_playsound("weapons/hammeridle", CHAN_WEAPON)
    HAMM ABCDCB 2 A_WeaponReady
    goto ready
  Deselect:
    HAMM A 1 A_Lower
    Loop
  Select:
    HAMM A 1 A_Raise
    Loop
  Fire:
    HAMM E 0 a_jumpifinventory("hammergas",1,"Firegas")
	goto ready
  FIREGAS:
    HAMM E 1  A_PlayWeaponSound("weapons/Hammerattack")
	HAMM F 1 A_CustomPunch(random(2, 4) * 5, TRUE, 0, "hitPuff", 90)
	 TNT1 A 0 A_FireCustomMissile("GunSmokeSpawner",15,0,15,0)
	HAMM GHE 1
	HAMM E 0 a_jumpifinventory("hammercount",1,3)
	HAMM E 0 A_giveinventory("hammercount", 2)
	HAMM E 0 A_takeinventory("hammergas",1)
	HAMM E 0 A_takeinventory("hammercount",1)
    HAMM H 0 A_ReFire("FIRE")
	HAMM HIHEABCDCB 2
    Goto Ready
  AltFire:
    HAMM E 0 a_jumpifinventory("hammergas",1,"altgas")
	goto ready
  AltGas:
    HAMM E 1  A_PlayWeaponSound("weapons/Hammerovercharge")
	HAMM IHEI 1
	HAMM E 0 a_jumpifinventory("hammercount",1,3)
	HAMM E 0 A_giveinventory("hammercount", 2)
	HAMM E 0 A_takeinventory("hammergas",1)
	HAMM E 0 A_takeinventory("hammercount",1)
	HAMM H 1 A_refire("altgas")
	HAMM F 2 A_CustomPunch(random(4, 8) * 10, TRUE, 0, "overchargePuff", 90)
	HAMM HIJKLMMNNLLKKJJA 1
	goto ready
  Spawn:
    JHAM A -1
    Stop
  }
}