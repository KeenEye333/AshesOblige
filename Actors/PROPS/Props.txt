ACTOR PROPExplosiveCylinder: ExplosiveBarrel replaces ExplosiveBarrel
{
	Health 40
	Radius 10
	Height 42
	woundhealth 20
	+SOLID
	+SHOOTABLE
	+NOBLOOD
	+ACTIVATEMCROSS
	+DONTGIB 
	Obituary "$OB_BARREL"
	States
	{
	Spawn:
		BAR1 AB 1
		Loop
	Wound:
	    BAR1 C 3 BRIGHT A_PlaySound("Special/CyliLoop", CHAN_BODY)
		BAR1 C 0 A_JUMP(40, "Death") 
		BAR1 DE 3 BRIGHT
		loop
	Death:
		BEXP A 5 BRIGHT A_PlaySound("explode/large", CHAN_BODY)
		BEXP B 0 A_SetDamageType("Fire")
		BEXP B 2 BRIGHT
		BEXP C 2 BRIGHT
		BFE1 AAAAAAAAAAAAA 0 A_CustomMissile("NapalmDebris", 0, 0, random(0,360), 2, random(0,90))
	    BFE1 AAAAAA 0 A_CustomMissile("firesmoke", 0, 0, random(0,360), 2, random(0,30))
		BEXP D 3 BRIGHT A_Explode (100,192)
		BEXP E 3 BRIGHT
		BEXP F 3 BRIGHT A_FadeOut(0.1)
		BEXP G 4 BRIGHT A_FadeOut(0.1)
		BEXP H 4 BRIGHT A_FadeOut(0.1)
		BEXP I 4 BRIGHT A_FadeOut(0.1)
		BEXP J 4 BRIGHT A_FadeOut(0.1)
		BEXP K 4 BRIGHT A_FadeOut(0.1)
		BEXP K 4 BRIGHT A_FadeOut(0.1)
		TNT1 A 1050 BRIGHT A_BarrelDestroy
		TNT1 A 0 A_FadeIn(1.0) //stops 'ghost barrel' bug in multiplayer/respawn
		TNT1 A 5 A_Respawn
		Wait
	}
}